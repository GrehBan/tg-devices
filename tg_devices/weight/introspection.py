from collections.abc import Mapping
from typing import Final

from tg_devices.compatibility.map import get_compatibility_map
from tg_devices.enums.android import (
    AndroidAppVersion,
    AndroidModel,
    AndroidSystemVersion,
)
from tg_devices.enums.app_version import AppVersion
from tg_devices.enums.linux import (
    LinuxAppVersion,
    LinuxDesktopModel,
    LinuxSystemVersion,
)
from tg_devices.enums.macos import (
    MacOSAppVersion,
    MacOSDesktopModel,
    MacOSSystemVersion,
)
from tg_devices.enums.os import OS
from tg_devices.enums.system_version import SystemVersion
from tg_devices.enums.windows import (
    WindowsAppVersion,
    WindowsDesktopModel,
    WindowsSystemVersion,
)
from tg_devices.weight.weights import Weights

WINDOWS_APP_WEIGHTS: Final[Mapping[WindowsAppVersion, int]] = {
    WindowsAppVersion.V4_8_3_X64: 1,
    WindowsAppVersion.V4_8_3_X86: 1,
    WindowsAppVersion.V4_8_1_X64: 1,
    WindowsAppVersion.V4_9_9_X64: 1,
    WindowsAppVersion.V4_9_9_X86: 1,
    WindowsAppVersion.V4_9_6_X64: 1,
    WindowsAppVersion.V4_9_4_X64: 1,
    WindowsAppVersion.V4_10_4_X64: 1,
    WindowsAppVersion.V4_10_3_X64: 1,
    WindowsAppVersion.V4_10_2_X64: 1,
    WindowsAppVersion.V4_11_6_X64: 1,
    WindowsAppVersion.V4_11_5_X64: 1,
    WindowsAppVersion.V4_11_3_X64: 1,
    WindowsAppVersion.V4_11_2_X64: 1,
    WindowsAppVersion.V4_12_2_X64: 1,
    WindowsAppVersion.V4_12_0_X64: 1,
    WindowsAppVersion.V4_13_1_X64: 1,
    WindowsAppVersion.V4_13_0_X64: 1,
    WindowsAppVersion.V4_14_9_X64: 2,
    WindowsAppVersion.V4_14_4_X64: 1,
    WindowsAppVersion.V4_14_1_X64: 1,
    WindowsAppVersion.V4_15_4_X64: 2,
    WindowsAppVersion.V4_15_2_X64: 1,
    WindowsAppVersion.V4_15_0_X64: 1,
    WindowsAppVersion.V4_16_9_X64: 3,
    WindowsAppVersion.V4_16_8_X64: 2,
    WindowsAppVersion.V4_16_7_X64: 2,
    WindowsAppVersion.V4_16_6_X64: 1,
    WindowsAppVersion.V5_0_4_X64: 3,
    WindowsAppVersion.V5_0_2_X64: 2,
    WindowsAppVersion.V5_0_1_X64: 2,
    WindowsAppVersion.V5_1_9_X64: 3,
    WindowsAppVersion.V5_1_7_X64: 2,
    WindowsAppVersion.V5_1_4_X64: 2,
    WindowsAppVersion.V5_2_3_X64: 3,
    WindowsAppVersion.V5_2_1_X64: 2,
    WindowsAppVersion.V5_3_3_X64: 3,
    WindowsAppVersion.V5_3_2_X64: 2,
    WindowsAppVersion.V5_3_1_X64: 2,
    WindowsAppVersion.V5_4_1_X64: 3,
    WindowsAppVersion.V5_5_5_X64: 5,
    WindowsAppVersion.V5_5_4_X64: 4,
    WindowsAppVersion.V5_5_3_X64: 3,
    WindowsAppVersion.V5_5_2_X64: 3,
    WindowsAppVersion.V5_5_1_X64: 2,
    WindowsAppVersion.V5_5_0_X64: 2,
    WindowsAppVersion.V5_6_3_X64: 5,
    WindowsAppVersion.V5_6_2_X64: 4,
    WindowsAppVersion.V5_6_1_X64: 3,
    WindowsAppVersion.V5_6_0_X64: 2,
    WindowsAppVersion.V5_7_2_X64: 5,
    WindowsAppVersion.V5_7_1_X64: 4,
    WindowsAppVersion.V5_7_0_X64: 3,
    WindowsAppVersion.V5_8_3_X64: 5,
    WindowsAppVersion.V5_8_2_X64: 4,
    WindowsAppVersion.V5_8_1_X64: 3,
    WindowsAppVersion.V5_8_0_X64: 2,
    WindowsAppVersion.V5_9_0_X64: 4,
    WindowsAppVersion.V5_10_7_X64: 8,
    WindowsAppVersion.V5_10_6_X64: 6,
    WindowsAppVersion.V5_10_5_X64: 5,
    WindowsAppVersion.V5_10_4_X64: 4,
    WindowsAppVersion.V5_10_3_X64: 3,
    WindowsAppVersion.V5_10_2_X64: 3,
    WindowsAppVersion.V5_10_1_X64: 2,
    WindowsAppVersion.V5_10_0_X64: 2,
    WindowsAppVersion.V5_11_1_X64: 6,
    WindowsAppVersion.V5_11_0_X64: 4,
    WindowsAppVersion.V5_12_3_X64: 6,
    WindowsAppVersion.V5_12_2_X64: 5,
    WindowsAppVersion.V5_12_1_X64: 4,
    WindowsAppVersion.V5_12_0_X64: 3,
    WindowsAppVersion.V5_13_1_X64: 6,
    WindowsAppVersion.V5_13_0_X64: 4,
    WindowsAppVersion.V5_14_3_X64: 7,
    WindowsAppVersion.V5_14_2_X64: 5,
    WindowsAppVersion.V5_14_1_X64: 4,
    WindowsAppVersion.V5_14_0_X64: 3,
    WindowsAppVersion.V5_15_4_X64: 8,
    WindowsAppVersion.V5_15_3_X64: 6,
    WindowsAppVersion.V5_15_2_X64: 5,
    WindowsAppVersion.V5_15_1_X64: 4,
    WindowsAppVersion.V5_15_0_X64: 3,
    WindowsAppVersion.V5_16_6_X64: 9,
    WindowsAppVersion.V5_16_5_X64: 7,
    WindowsAppVersion.V5_16_4_X64: 6,
    WindowsAppVersion.V5_16_3_X64: 5,
    WindowsAppVersion.V5_16_2_X64: 4,
    WindowsAppVersion.V5_16_1_X64: 3,
    WindowsAppVersion.V5_16_0_X64: 3,
    WindowsAppVersion.V6_0_2_X64: 10,
    WindowsAppVersion.V6_0_1_X64: 7,
    WindowsAppVersion.V6_0_0_X64: 5,
    WindowsAppVersion.V6_1_4_X64: 12,
    WindowsAppVersion.V6_1_3_X64: 10,
    WindowsAppVersion.V6_1_2_X64: 7,
    WindowsAppVersion.V6_1_1_X64: 5,
    WindowsAppVersion.V6_1_0_X64: 4,
    WindowsAppVersion.V6_2_4_X64: 12,
    WindowsAppVersion.V6_2_3_X64: 9,
    WindowsAppVersion.V6_2_2_X64: 6,
    WindowsAppVersion.V6_2_1_X64: 5,
    WindowsAppVersion.V6_2_0_X64: 4,
    WindowsAppVersion.V6_3_9_X64: 14,
    WindowsAppVersion.V6_3_8_X64: 11,
    WindowsAppVersion.V6_3_7_X64: 10,
    WindowsAppVersion.V6_3_6_X64: 8,
    WindowsAppVersion.V6_3_5_X64: 6,
    WindowsAppVersion.V6_3_4_X64: 5,
    WindowsAppVersion.V6_3_3_X64: 4,
    WindowsAppVersion.V6_3_2_X64: 3,
    WindowsAppVersion.V6_3_1_X64: 3,
    WindowsAppVersion.V6_3_0_X64: 3,
    WindowsAppVersion.V6_4_2_X64: 15,
    WindowsAppVersion.V6_4_1_X64: 10,
    WindowsAppVersion.V6_4_0_X64: 7,
    WindowsAppVersion.V6_5_1_X64: 20,
    WindowsAppVersion.V6_5_0_X64: 15,
    WindowsAppVersion.V5_10_0_STORE: 1,
    WindowsAppVersion.V5_15_0_STORE: 1,
    WindowsAppVersion.V6_0_0_STORE: 2,
    WindowsAppVersion.V6_3_0_STORE: 2,
    WindowsAppVersion.V6_5_1_STORE: 3,
}

MACOS_APP_WEIGHTS: Final[Mapping[MacOSAppVersion, int]] = {
    MacOSAppVersion.V4_8_3_INTEL: 1,
    MacOSAppVersion.V4_8_3_ARM64: 1,
    MacOSAppVersion.V4_8_1_INTEL: 1,
    MacOSAppVersion.V4_8_1_ARM64: 1,
    MacOSAppVersion.V4_9_9_INTEL: 1,
    MacOSAppVersion.V4_9_9_ARM64: 1,
    MacOSAppVersion.V4_9_6_INTEL: 1,
    MacOSAppVersion.V4_9_6_ARM64: 1,
    MacOSAppVersion.V4_9_4_ARM64: 1,
    MacOSAppVersion.V4_10_4_INTEL: 1,
    MacOSAppVersion.V4_10_4_ARM64: 1,
    MacOSAppVersion.V4_10_2_ARM64: 1,
    MacOSAppVersion.V4_11_6_INTEL: 1,
    MacOSAppVersion.V4_11_6_ARM64: 1,
    MacOSAppVersion.V4_11_5_ARM64: 1,
    MacOSAppVersion.V4_11_3_ARM64: 1,
    MacOSAppVersion.V4_12_2_INTEL: 1,
    MacOSAppVersion.V4_12_2_ARM64: 1,
    MacOSAppVersion.V4_13_1_ARM64: 1,
    MacOSAppVersion.V4_13_0_ARM64: 1,
    MacOSAppVersion.V4_14_9_INTEL: 2,
    MacOSAppVersion.V4_14_9_ARM64: 2,
    MacOSAppVersion.V4_14_4_ARM64: 1,
    MacOSAppVersion.V4_14_1_ARM64: 1,
    MacOSAppVersion.V4_15_4_ARM64: 2,
    MacOSAppVersion.V4_15_2_ARM64: 1,
    MacOSAppVersion.V4_15_0_ARM64: 1,
    MacOSAppVersion.V4_16_9_INTEL: 2,
    MacOSAppVersion.V4_16_9_ARM64: 3,
    MacOSAppVersion.V4_16_7_ARM64: 2,
    MacOSAppVersion.V4_16_6_ARM64: 1,
    MacOSAppVersion.V5_0_4_INTEL: 2,
    MacOSAppVersion.V5_0_4_ARM64: 4,
    MacOSAppVersion.V5_0_1_ARM64: 2,
    MacOSAppVersion.V5_1_9_ARM64: 3,
    MacOSAppVersion.V5_1_7_ARM64: 2,
    MacOSAppVersion.V5_1_4_ARM64: 2,
    MacOSAppVersion.V5_2_3_ARM64: 3,
    MacOSAppVersion.V5_2_1_ARM64: 2,
    MacOSAppVersion.V5_3_3_ARM64: 3,
    MacOSAppVersion.V5_3_2_ARM64: 2,
    MacOSAppVersion.V5_3_1_ARM64: 2,
    MacOSAppVersion.V5_4_1_ARM64: 3,
    MacOSAppVersion.V5_5_5_INTEL: 2,
    MacOSAppVersion.V5_5_5_ARM64: 5,
    MacOSAppVersion.V5_5_4_ARM64: 4,
    MacOSAppVersion.V5_5_3_ARM64: 3,
    MacOSAppVersion.V5_5_2_ARM64: 3,
    MacOSAppVersion.V5_5_1_ARM64: 2,
    MacOSAppVersion.V5_5_0_ARM64: 2,
    MacOSAppVersion.V5_6_3_INTEL: 2,
    MacOSAppVersion.V5_6_3_ARM64: 5,
    MacOSAppVersion.V5_6_2_ARM64: 4,
    MacOSAppVersion.V5_6_1_ARM64: 3,
    MacOSAppVersion.V5_6_0_ARM64: 2,
    MacOSAppVersion.V5_7_2_ARM64: 5,
    MacOSAppVersion.V5_7_1_ARM64: 4,
    MacOSAppVersion.V5_7_0_ARM64: 3,
    MacOSAppVersion.V5_8_3_ARM64: 5,
    MacOSAppVersion.V5_8_2_ARM64: 4,
    MacOSAppVersion.V5_8_1_ARM64: 3,
    MacOSAppVersion.V5_8_0_ARM64: 2,
    MacOSAppVersion.V5_9_0_ARM64: 4,
    MacOSAppVersion.V5_10_7_INTEL: 3,
    MacOSAppVersion.V5_10_7_ARM64: 8,
    MacOSAppVersion.V5_10_6_ARM64: 6,
    MacOSAppVersion.V5_10_5_ARM64: 5,
    MacOSAppVersion.V5_10_4_ARM64: 4,
    MacOSAppVersion.V5_10_3_ARM64: 3,
    MacOSAppVersion.V5_10_0_ARM64: 2,
    MacOSAppVersion.V5_11_1_ARM64: 6,
    MacOSAppVersion.V5_11_0_ARM64: 4,
    MacOSAppVersion.V5_12_3_ARM64: 6,
    MacOSAppVersion.V5_12_2_ARM64: 5,
    MacOSAppVersion.V5_12_1_ARM64: 4,
    MacOSAppVersion.V5_12_0_ARM64: 3,
    MacOSAppVersion.V5_13_1_ARM64: 6,
    MacOSAppVersion.V5_13_0_ARM64: 4,
    MacOSAppVersion.V5_14_3_ARM64: 7,
    MacOSAppVersion.V5_14_2_ARM64: 5,
    MacOSAppVersion.V5_14_1_ARM64: 4,
    MacOSAppVersion.V5_14_0_ARM64: 3,
    MacOSAppVersion.V5_15_4_ARM64: 8,
    MacOSAppVersion.V5_15_3_ARM64: 6,
    MacOSAppVersion.V5_15_2_ARM64: 5,
    MacOSAppVersion.V5_15_1_ARM64: 4,
    MacOSAppVersion.V5_15_0_ARM64: 3,
    MacOSAppVersion.V5_16_6_ARM64: 9,
    MacOSAppVersion.V5_16_5_ARM64: 7,
    MacOSAppVersion.V5_16_4_ARM64: 6,
    MacOSAppVersion.V5_16_3_ARM64: 5,
    MacOSAppVersion.V5_16_2_ARM64: 4,
    MacOSAppVersion.V5_16_1_ARM64: 3,
    MacOSAppVersion.V5_16_0_ARM64: 3,
    MacOSAppVersion.V6_0_2_ARM64: 10,
    MacOSAppVersion.V6_0_1_ARM64: 7,
    MacOSAppVersion.V6_0_0_ARM64: 5,
    MacOSAppVersion.V6_1_4_ARM64: 12,
    MacOSAppVersion.V6_1_3_ARM64: 10,
    MacOSAppVersion.V6_1_2_ARM64: 7,
    MacOSAppVersion.V6_1_1_ARM64: 5,
    MacOSAppVersion.V6_1_0_ARM64: 4,
    MacOSAppVersion.V6_2_4_ARM64: 12,
    MacOSAppVersion.V6_2_3_ARM64: 9,
    MacOSAppVersion.V6_2_2_ARM64: 6,
    MacOSAppVersion.V6_2_1_ARM64: 5,
    MacOSAppVersion.V6_2_0_ARM64: 4,
    MacOSAppVersion.V6_3_9_ARM64: 14,
    MacOSAppVersion.V6_3_8_ARM64: 11,
    MacOSAppVersion.V6_3_7_ARM64: 9,
    MacOSAppVersion.V6_3_6_ARM64: 7,
    MacOSAppVersion.V6_3_5_ARM64: 5,
    MacOSAppVersion.V6_3_4_ARM64: 4,
    MacOSAppVersion.V6_3_3_ARM64: 3,
    MacOSAppVersion.V6_3_2_ARM64: 3,
    MacOSAppVersion.V6_3_1_ARM64: 3,
    MacOSAppVersion.V6_3_0_ARM64: 2,
    MacOSAppVersion.V6_4_2_ARM64: 15,
    MacOSAppVersion.V6_4_1_ARM64: 10,
    MacOSAppVersion.V6_4_0_ARM64: 7,
    MacOSAppVersion.V6_5_1_ARM64: 20,
    MacOSAppVersion.V6_5_0_ARM64: 15,
    MacOSAppVersion.V5_10_0_STORE_ARM64: 1,
    MacOSAppVersion.V5_15_0_STORE_ARM64: 1,
    MacOSAppVersion.V6_0_0_STORE_ARM64: 2,
    MacOSAppVersion.V6_3_0_STORE_ARM64: 2,
    MacOSAppVersion.V6_5_1_STORE_ARM64: 3,
    MacOSAppVersion.V4_14_9_STORE_INTEL: 1,
    MacOSAppVersion.V4_16_9_STORE_INTEL: 1,
}

LINUX_APP_WEIGHTS: Final[Mapping[LinuxAppVersion, int]] = {
    LinuxAppVersion.V4_8_3: 1,
    LinuxAppVersion.V4_8_1: 1,
    LinuxAppVersion.V4_9_9: 2,
    LinuxAppVersion.V4_9_6: 1,
    LinuxAppVersion.V4_9_4: 1,
    LinuxAppVersion.V4_10_4: 2,
    LinuxAppVersion.V4_10_3: 1,
    LinuxAppVersion.V4_10_2: 1,
    LinuxAppVersion.V4_11_6: 2,
    LinuxAppVersion.V4_11_5: 1,
    LinuxAppVersion.V4_11_3: 1,
    LinuxAppVersion.V4_11_2: 1,
    LinuxAppVersion.V4_12_2: 2,
    LinuxAppVersion.V4_12_0: 1,
    LinuxAppVersion.V4_13_1: 2,
    LinuxAppVersion.V4_13_0: 1,
    LinuxAppVersion.V4_14_9: 3,
    LinuxAppVersion.V4_14_4: 2,
    LinuxAppVersion.V4_14_1: 1,
    LinuxAppVersion.V4_15_4: 3,
    LinuxAppVersion.V4_15_2: 2,
    LinuxAppVersion.V4_15_0: 1,
    LinuxAppVersion.V4_16_9: 4,
    LinuxAppVersion.V4_16_8: 3,
    LinuxAppVersion.V4_16_7: 3,
    LinuxAppVersion.V4_16_6: 2,
    LinuxAppVersion.V5_0_4: 4,
    LinuxAppVersion.V5_0_2: 3,
    LinuxAppVersion.V5_0_1: 2,
    LinuxAppVersion.V5_1_9: 4,
    LinuxAppVersion.V5_1_7: 3,
    LinuxAppVersion.V5_1_4: 2,
    LinuxAppVersion.V5_2_3: 4,
    LinuxAppVersion.V5_2_1: 3,
    LinuxAppVersion.V5_3_3: 4,
    LinuxAppVersion.V5_3_2: 3,
    LinuxAppVersion.V5_3_1: 2,
    LinuxAppVersion.V5_4_1: 4,
    LinuxAppVersion.V5_5_5: 6,
    LinuxAppVersion.V5_5_4: 5,
    LinuxAppVersion.V5_5_3: 4,
    LinuxAppVersion.V5_5_2: 3,
    LinuxAppVersion.V5_5_1: 2,
    LinuxAppVersion.V5_5_0: 2,
    LinuxAppVersion.V5_6_3: 6,
    LinuxAppVersion.V5_6_2: 5,
    LinuxAppVersion.V5_6_1: 4,
    LinuxAppVersion.V5_6_0: 3,
    LinuxAppVersion.V5_7_2: 6,
    LinuxAppVersion.V5_7_1: 5,
    LinuxAppVersion.V5_7_0: 4,
    LinuxAppVersion.V5_8_3: 6,
    LinuxAppVersion.V5_8_2: 5,
    LinuxAppVersion.V5_8_1: 4,
    LinuxAppVersion.V5_8_0: 3,
    LinuxAppVersion.V5_9_0: 5,
    LinuxAppVersion.V5_10_7: 9,
    LinuxAppVersion.V5_10_6: 7,
    LinuxAppVersion.V5_10_5: 6,
    LinuxAppVersion.V5_10_4: 5,
    LinuxAppVersion.V5_10_3: 4,
    LinuxAppVersion.V5_10_2: 3,
    LinuxAppVersion.V5_10_1: 3,
    LinuxAppVersion.V5_10_0: 3,
    LinuxAppVersion.V5_11_1: 7,
    LinuxAppVersion.V5_11_0: 5,
    LinuxAppVersion.V5_12_3: 7,
    LinuxAppVersion.V5_12_2: 6,
    LinuxAppVersion.V5_12_1: 5,
    LinuxAppVersion.V5_12_0: 4,
    LinuxAppVersion.V5_13_1: 7,
    LinuxAppVersion.V5_13_0: 5,
    LinuxAppVersion.V5_14_3: 8,
    LinuxAppVersion.V5_14_2: 6,
    LinuxAppVersion.V5_14_1: 5,
    LinuxAppVersion.V5_14_0: 4,
    LinuxAppVersion.V5_15_4: 9,
    LinuxAppVersion.V5_15_3: 7,
    LinuxAppVersion.V5_15_2: 6,
    LinuxAppVersion.V5_15_1: 5,
    LinuxAppVersion.V5_15_0: 4,
    LinuxAppVersion.V5_16_6: 10,
    LinuxAppVersion.V5_16_5: 8,
    LinuxAppVersion.V5_16_4: 7,
    LinuxAppVersion.V5_16_3: 6,
    LinuxAppVersion.V5_16_2: 5,
    LinuxAppVersion.V5_16_1: 4,
    LinuxAppVersion.V5_16_0: 4,
    LinuxAppVersion.V6_0_2: 11,
    LinuxAppVersion.V6_0_1: 8,
    LinuxAppVersion.V6_0_0: 6,
    LinuxAppVersion.V6_1_4: 13,
    LinuxAppVersion.V6_1_3: 11,
    LinuxAppVersion.V6_1_2: 8,
    LinuxAppVersion.V6_1_1: 6,
    LinuxAppVersion.V6_1_0: 5,
    LinuxAppVersion.V6_2_4: 13,
    LinuxAppVersion.V6_2_3: 10,
    LinuxAppVersion.V6_2_2: 7,
    LinuxAppVersion.V6_2_1: 6,
    LinuxAppVersion.V6_2_0: 5,
    LinuxAppVersion.V6_3_9: 15,
    LinuxAppVersion.V6_3_8: 12,
    LinuxAppVersion.V6_3_7: 10,
    LinuxAppVersion.V6_3_6: 8,
    LinuxAppVersion.V6_3_5: 6,
    LinuxAppVersion.V6_3_4: 5,
    LinuxAppVersion.V6_3_3: 4,
    LinuxAppVersion.V6_3_2: 4,
    LinuxAppVersion.V6_3_1: 3,
    LinuxAppVersion.V6_3_0: 3,
    LinuxAppVersion.V6_4_2: 16,
    LinuxAppVersion.V6_4_1: 11,
    LinuxAppVersion.V6_4_0: 8,
    LinuxAppVersion.V6_5_1: 20,
    LinuxAppVersion.V6_5_0: 15,
    LinuxAppVersion.V5_10_0_ARM64: 1,
    LinuxAppVersion.V5_15_0_ARM64: 1,
    LinuxAppVersion.V6_0_0_ARM64: 1,
    LinuxAppVersion.V6_3_0_ARM64: 1,
    LinuxAppVersion.V6_5_1_ARM64: 2,
}

ANDROID_APP_WEIGHTS: Final[Mapping[AndroidAppVersion, int]] = {
    AndroidAppVersion.V8_9_3: 1,
    AndroidAppVersion.V9_6_5: 1,
    AndroidAppVersion.V10_0_1: 2,
    AndroidAppVersion.V10_1_0: 2,
    AndroidAppVersion.V10_2_3: 3,
    AndroidAppVersion.V10_3_2: 3,
    AndroidAppVersion.V10_4_1: 4,
    AndroidAppVersion.V10_5_0: 5,
    AndroidAppVersion.V10_6_1: 5,
    AndroidAppVersion.V10_7_0: 6,
    AndroidAppVersion.V10_8_1: 8,
    AndroidAppVersion.V10_9_0: 8,
    AndroidAppVersion.V10_10_1: 10,
    AndroidAppVersion.V10_11_0: 12,
    AndroidAppVersion.V10_12_0: 15,
    AndroidAppVersion.V10_13_0: 20,
    AndroidAppVersion.V10_14_0: 25,
    AndroidAppVersion.V11_0_0: 30,
    AndroidAppVersion.V11_1_2: 30,
    AndroidAppVersion.V11_2_0: 30,
    AndroidAppVersion.V11_3_4: 25,
    AndroidAppVersion.V11_4_1: 25,
    AndroidAppVersion.V11_5_0: 20,
    AndroidAppVersion.V11_6_2: 20,
    AndroidAppVersion.V11_7_1: 15,
    AndroidAppVersion.V11_8_0: 15,
    AndroidAppVersion.V11_9_3: 10,
    AndroidAppVersion.V12_0_0: 10,
    AndroidAppVersion.V12_1_1: 8,
    AndroidAppVersion.V12_2_3: 8,
    AndroidAppVersion.V12_3_0: 6,
    AndroidAppVersion.V12_4_2: 5,
    AndroidAppVersion.V12_5_0: 5,
}

WINDOWS_SYSTEM_WEIGHTS: Final[Mapping[WindowsSystemVersion, int]] = {
    WindowsSystemVersion.WINDOWS_10_1507: 1,
    WindowsSystemVersion.WINDOWS_10_1511: 1,
    WindowsSystemVersion.WINDOWS_10_1607: 1,
    WindowsSystemVersion.WINDOWS_10_1703: 1,
    WindowsSystemVersion.WINDOWS_10_1709: 1,
    WindowsSystemVersion.WINDOWS_10_1803: 1,
    WindowsSystemVersion.WINDOWS_10_1809: 2,
    WindowsSystemVersion.WINDOWS_10_1903: 2,
    WindowsSystemVersion.WINDOWS_10_1909: 2,
    WindowsSystemVersion.WINDOWS_10_2004: 3,
    WindowsSystemVersion.WINDOWS_10_20H2: 4,
    WindowsSystemVersion.WINDOWS_10_21H1: 5,
    WindowsSystemVersion.WINDOWS_10_21H2: 8,
    WindowsSystemVersion.WINDOWS_10_22H2: 30,
    WindowsSystemVersion.WINDOWS_11_21H2: 5,
    WindowsSystemVersion.WINDOWS_11_22H2: 18,
    WindowsSystemVersion.WINDOWS_11_23H2: 20,
    WindowsSystemVersion.WINDOWS_11_24H2: 14,
    WindowsSystemVersion.WINDOWS_11_25H2: 3,
}

MACOS_SYSTEM_WEIGHTS: Final[Mapping[MacOSSystemVersion, int]] = {
    MacOSSystemVersion.HIGH_SIERRA_10_13_6: 1,
    MacOSSystemVersion.MOJAVE_10_14_6: 1,
    MacOSSystemVersion.CATALINA_10_15_7: 2,
    MacOSSystemVersion.BIG_SUR_11_7_10: 2,
    MacOSSystemVersion.BIG_SUR_11_6_8: 1,
    MacOSSystemVersion.MONTEREY_12_7_6: 5,
    MacOSSystemVersion.MONTEREY_12_7_4: 3,
    MacOSSystemVersion.MONTEREY_12_6_9: 2,
    MacOSSystemVersion.VENTURA_13_7_4: 8,
    MacOSSystemVersion.VENTURA_13_7_2: 6,
    MacOSSystemVersion.VENTURA_13_6_6: 5,
    MacOSSystemVersion.VENTURA_13_6_4: 4,
    MacOSSystemVersion.VENTURA_13_5: 3,
    MacOSSystemVersion.SONOMA_14_7_4: 14,
    MacOSSystemVersion.SONOMA_14_7_2: 12,
    MacOSSystemVersion.SONOMA_14_7_1: 10,
    MacOSSystemVersion.SONOMA_14_6_1: 9,
    MacOSSystemVersion.SONOMA_14_6: 7,
    MacOSSystemVersion.SONOMA_14_5: 5,
    MacOSSystemVersion.SONOMA_14_4_1: 4,
    MacOSSystemVersion.SONOMA_14_3_1: 3,
    MacOSSystemVersion.SONOMA_14_2_1: 2,
    MacOSSystemVersion.SONOMA_14_1_1: 1,
    MacOSSystemVersion.SEQUOIA_15_3_2: 18,
    MacOSSystemVersion.SEQUOIA_15_3_1: 14,
    MacOSSystemVersion.SEQUOIA_15_3: 12,
    MacOSSystemVersion.SEQUOIA_15_2: 10,
    MacOSSystemVersion.SEQUOIA_15_1_1: 7,
    MacOSSystemVersion.SEQUOIA_15_1: 5,
    MacOSSystemVersion.SEQUOIA_15_0_1: 3,
    MacOSSystemVersion.SEQUOIA_15_0: 2,
    MacOSSystemVersion.TAHOE_26_3: 5,
    MacOSSystemVersion.TAHOE_26_2: 3,
    MacOSSystemVersion.TAHOE_26_1: 2,
    MacOSSystemVersion.TAHOE_26_0: 1,
}

LINUX_SYSTEM_WEIGHTS: Final[Mapping[LinuxSystemVersion, int]] = {
    LinuxSystemVersion.UBUNTU_22_04_5_15_0_127: 12,
    LinuxSystemVersion.UBUNTU_22_04_5_15_0_122: 10,
    LinuxSystemVersion.UBUNTU_22_04_5_15_0_113: 8,
    LinuxSystemVersion.UBUNTU_22_04_5_15_0_100: 6,
    LinuxSystemVersion.UBUNTU_22_04_5_15_0_91: 4,
    LinuxSystemVersion.UBUNTU_22_04_HWE_6_8_0_52: 7,
    LinuxSystemVersion.UBUNTU_22_04_HWE_6_8_0_45: 5,
    LinuxSystemVersion.UBUNTU_22_04_HWE_6_5_0_45: 5,
    LinuxSystemVersion.UBUNTU_22_04_HWE_6_5_0_28: 3,
    LinuxSystemVersion.UBUNTU_24_04_6_8_0_57: 12,
    LinuxSystemVersion.UBUNTU_24_04_6_8_0_51: 10,
    LinuxSystemVersion.UBUNTU_24_04_6_8_0_40: 7,
    LinuxSystemVersion.UBUNTU_24_04_HWE_6_11_0_17: 6,
    LinuxSystemVersion.UBUNTU_24_04_HWE_6_11_0_13: 4,
    LinuxSystemVersion.UBUNTU_20_04_5_4_0_182: 5,
    LinuxSystemVersion.UBUNTU_20_04_5_4_0_169: 4,
    LinuxSystemVersion.UBUNTU_20_04_5_4_0_155: 3,
    LinuxSystemVersion.UBUNTU_20_04_HWE_5_15_0_112: 4,
    LinuxSystemVersion.UBUNTU_24_10_6_11_0_9: 5,
    LinuxSystemVersion.UBUNTU_23_10_6_5_0_27: 3,
    LinuxSystemVersion.MINT_21_3_6_5_0_35: 5,
    LinuxSystemVersion.MINT_21_5_15_0_100: 4,
    LinuxSystemVersion.MINT_21_2_5_15_0_41: 3,
    LinuxSystemVersion.DEBIAN_12_6_1_0_30: 8,
    LinuxSystemVersion.DEBIAN_12_6_1_0_27: 6,
    LinuxSystemVersion.DEBIAN_12_6_1_0_21: 5,
    LinuxSystemVersion.DEBIAN_12_6_1_0_18: 4,
    LinuxSystemVersion.DEBIAN_12_BP_6_12_6_1: 3,
    LinuxSystemVersion.DEBIAN_11_5_10_0_33: 4,
    LinuxSystemVersion.DEBIAN_11_5_10_0_28: 3,
    LinuxSystemVersion.DEBIAN_11_BP_6_1_0_28: 3,
    LinuxSystemVersion.DEBIAN_13_6_12_12_1: 3,
    LinuxSystemVersion.DEBIAN_SID_5_16_0_5: 1,
    LinuxSystemVersion.ARCH_6_13_2_ARCH1: 8,
    LinuxSystemVersion.ARCH_6_12_8_ARCH1: 7,
    LinuxSystemVersion.ARCH_6_12_1_ARCH1: 5,
    LinuxSystemVersion.ARCH_6_11_6_ARCH1: 5,
    LinuxSystemVersion.ARCH_6_11_1_ZEN1: 3,
    LinuxSystemVersion.ARCH_6_10_10_ARCH1: 4,
    LinuxSystemVersion.ARCH_6_9_10_ARCH1: 3,
    LinuxSystemVersion.ARCH_6_8_9_ARCH1: 3,
    LinuxSystemVersion.ARCH_6_7_9_ARCH1: 2,
    LinuxSystemVersion.ARCH_6_6_8_ARCH1: 3,
    LinuxSystemVersion.ARCH_6_5_9_ARCH2: 2,
    LinuxSystemVersion.ARCH_6_3_4_ARCH1: 1,
    LinuxSystemVersion.ARCH_6_1_1_1: 1,
    LinuxSystemVersion.ARCH_5_15_74_1: 1,
    LinuxSystemVersion.FEDORA_42_6_13_5_200: 5,
    LinuxSystemVersion.FEDORA_41_6_12_6_200: 5,
    LinuxSystemVersion.FEDORA_41_6_11_4_300: 4,
    LinuxSystemVersion.FEDORA_40_6_9_11_200: 4,
    LinuxSystemVersion.FEDORA_40_6_8_9_300: 4,
    LinuxSystemVersion.FEDORA_39_6_6_14_200: 3,
    LinuxSystemVersion.FEDORA_39_6_5_6_300: 3,
    LinuxSystemVersion.FEDORA_38_6_3_11_300: 2,
    LinuxSystemVersion.FEDORA_38_6_2_9_300: 2,
    LinuxSystemVersion.FEDORA_37_6_1_7_200: 1,
    LinuxSystemVersion.FEDORA_37_6_0_7_301: 1,
    LinuxSystemVersion.MANJARO_6_12_4_1: 4,
    LinuxSystemVersion.MANJARO_6_11_3_1: 3,
    LinuxSystemVersion.MANJARO_6_10_13_1: 3,
    LinuxSystemVersion.MANJARO_6_9_12_1: 3,
    LinuxSystemVersion.MANJARO_6_6_30_1: 3,
    LinuxSystemVersion.MANJARO_6_5_5_1: 2,
    LinuxSystemVersion.MANJARO_6_1_12_1: 2,
    LinuxSystemVersion.MANJARO_5_15_85_1: 1,
    LinuxSystemVersion.MANJARO_5_15_32_1: 1,
    LinuxSystemVersion.OPENSUSE_LEAP_15_6_6_4_0_150600: 2,
    LinuxSystemVersion.OPENSUSE_LEAP_15_5_5_14_21_150500: 2,
    LinuxSystemVersion.OPENSUSE_TW_6_11_3: 2,
    LinuxSystemVersion.OPENSUSE_TW_6_8_7: 2,
    LinuxSystemVersion.OPENSUSE_TW_6_6_1: 1,
    LinuxSystemVersion.NIXOS_6_12_5: 2,
    LinuxSystemVersion.NIXOS_6_11_8: 2,
    LinuxSystemVersion.NIXOS_6_6_66: 2,
    LinuxSystemVersion.NIXOS_6_1_70: 1,
    LinuxSystemVersion.GENTOO_6_12_9: 1,
    LinuxSystemVersion.GENTOO_6_6_21_R1: 1,
    LinuxSystemVersion.GENTOO_6_6_21: 1,
    LinuxSystemVersion.GENTOO_6_1_57: 1,
    LinuxSystemVersion.VOID_6_11_5_1: 1,
    LinuxSystemVersion.VOID_6_6_8_1: 1,
    LinuxSystemVersion.VOID_6_1_12_1: 1,
    LinuxSystemVersion.POPOS_22_04_6_8_0_40: 2,
    LinuxSystemVersion.KALI_6_12_5_AMD64: 2,
    LinuxSystemVersion.KALI_6_11_2_AMD64: 2,
    LinuxSystemVersion.MX_23_6_1_0_27: 2,
    LinuxSystemVersion.MX_21_5_10_0_28: 1,
    LinuxSystemVersion.DEBIAN_10_4_19_0_27: 1,
}

ANDROID_SYSTEM_WEIGHTS: Final[Mapping[AndroidSystemVersion, int]] = {
    AndroidSystemVersion.ANDROID_6_0: 1,
    AndroidSystemVersion.ANDROID_7_0: 1,
    AndroidSystemVersion.ANDROID_7_1: 1,
    AndroidSystemVersion.ANDROID_8_0: 2,
    AndroidSystemVersion.ANDROID_8_1: 2,
    AndroidSystemVersion.ANDROID_9_0: 3,
    AndroidSystemVersion.ANDROID_10_0: 4,
    AndroidSystemVersion.ANDROID_11_0: 6,
    AndroidSystemVersion.ANDROID_12_0: 8,
    AndroidSystemVersion.ANDROID_12_1: 2,
    AndroidSystemVersion.ANDROID_13_0: 15,
    AndroidSystemVersion.ANDROID_14_0: 25,
    AndroidSystemVersion.ANDROID_15_0: 20,
    AndroidSystemVersion.ANDROID_16_0: 8,
    AndroidSystemVersion.ANDROID_17_0: 2,
}

WIN_APPS: Final = tuple(WINDOWS_APP_WEIGHTS.keys())
WIN_APPS_WEIGHTS: Final = tuple(WINDOWS_APP_WEIGHTS.values())

MAC_APPS: Final = tuple(MACOS_APP_WEIGHTS.keys())
MAC_APPS_WEIGHTS: Final = tuple(MACOS_APP_WEIGHTS.values())

LINUX_APPS: Final = tuple(LINUX_APP_WEIGHTS.keys())
LIN_APPS_WEIGHTS: Final = tuple(LINUX_APP_WEIGHTS.values())

ANDROID_APPS: Final = tuple(ANDROID_APP_WEIGHTS.keys())
ANDROID_APPS_WEIGHTS: Final = tuple(ANDROID_APP_WEIGHTS.values())

WIN_SYSTEMS: Final = tuple(WINDOWS_SYSTEM_WEIGHTS.keys())
WIN_SYSTEMS_WEIGHTS: Final = tuple(WINDOWS_SYSTEM_WEIGHTS.values())

MAC_SYSTEMS: Final = tuple(MACOS_SYSTEM_WEIGHTS.keys())
MAC_SYSTEMS_WEIGHTS: Final = tuple(MACOS_SYSTEM_WEIGHTS.values())

LINUX_SYSTEMS: Final = tuple(LINUX_SYSTEM_WEIGHTS.keys())
LIN_SYSTEMS_WEIGHTS: Final = tuple(LINUX_SYSTEM_WEIGHTS.values())

ANDROID_SYSTEMS: Final = tuple(ANDROID_SYSTEM_WEIGHTS.keys())
ANDROID_SYSTEMS_WEIGHTS: Final = tuple(ANDROID_SYSTEM_WEIGHTS.values())
OS_NAMES: Final[tuple[OS, ...]] = tuple(OS)

WINDOWS_COMPATIBILITY_MAP: Final[
    dict[SystemVersion, tuple[tuple[AppVersion, ...], tuple[int, ...]]]
] = get_compatibility_map(OS.WINDOWS, WIN_APPS, WIN_APPS_WEIGHTS, WIN_SYSTEMS)
LINUX_COMPATIBILITY_MAP: Final[
    dict[SystemVersion, tuple[tuple[AppVersion, ...], tuple[int, ...]]]
] = get_compatibility_map(
    OS.LINUX, LINUX_APPS, LIN_APPS_WEIGHTS, LINUX_SYSTEMS
)
MACOS_COMPATIBILITY_MAP: Final[
    dict[SystemVersion, tuple[tuple[AppVersion, ...], tuple[int, ...]]]
] = get_compatibility_map(OS.MACOS, MAC_APPS, MAC_APPS_WEIGHTS, MAC_SYSTEMS)
ANDROID_COMPATIBILITY_MAP: Final[
    dict[SystemVersion, tuple[tuple[AppVersion, ...], tuple[int, ...]]]
] = get_compatibility_map(
    OS.ANDROID, ANDROID_APPS, ANDROID_APPS_WEIGHTS, ANDROID_SYSTEMS
)

ANDROID_DEVICE_MODEL: Final[tuple[AndroidModel, ...]] = tuple(AndroidModel)
WINDOWS_DEVICE_MODEL: Final[tuple[WindowsDesktopModel, ...]] = tuple(
    WindowsDesktopModel
)
LINUX_DEVICE_MODEL: Final[tuple[LinuxDesktopModel, ...]] = tuple(
    LinuxDesktopModel
)
MACOS_DEVICE_MODEL: Final[tuple[MacOSDesktopModel, ...]] = tuple(
    MacOSDesktopModel
)

WINDOWS_WEIGHTS_DT: Final[Weights] = Weights(
    WIN_APPS_WEIGHTS, WIN_SYSTEMS_WEIGHTS
)
LINUX_WEIGHTS_DT: Final[Weights] = Weights(
    LIN_APPS_WEIGHTS, LIN_SYSTEMS_WEIGHTS
)
MACOS_WEIGHTS_DT: Final[Weights] = Weights(
    MAC_APPS_WEIGHTS, MAC_SYSTEMS_WEIGHTS
)
ANDROID_WEIGHTS_DT: Final[Weights] = Weights(
    ANDROID_APPS_WEIGHTS, ANDROID_SYSTEMS_WEIGHTS
)
